(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){e.exports=a(366)},174:function(e,t){},176:function(e,t){},203:function(e,t){},248:function(e,t){},322:function(e,t,a){},343:function(e,t,a){},363:function(e,t,a){},365:function(e){e.exports={}},366:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(127),c=a.n(r),s=a(128),i=a.n(s),l=(a(322),a(129)),u=a(130),d=a(134),h=a(131),f=a(135),p=a(60),m=a(133);a(341),a(343);var v=function(e){var t=Object(p.useWeb3Context)(),a=[];e.accounts.forEach(function(e){var t=(e.totalEthSupply/1e18).toFixed(3),n=(e.totalEthBorrow/1e18).toFixed(3),o=+(t/n).toFixed(3),r="";r=o<1.5?"unsafe":o<=2?"risky":"safe";var c=(100*o).toFixed(1)+"%",s=o>=1.5?"0":"1";e={address:e.address,supply:t,borrow:n,ratio:c,state:r,block:e.blockUpdated,liquidate:s},a.push(e)});var n=[{Header:"Address",accessor:"address",maxWidth:750,Cell:function(e){return o.a.createElement("a",{href:"https://etherscan.io/address/"+e.value,target:"_blank"},e.value)}},{Header:"Supply",accessor:"supply",maxWidth:200,className:"right"},{Header:"Borrow",accessor:"borrow",maxWidth:200,className:"right"},{Header:"Ratio",accessor:"ratio",maxWidth:200,className:"right"},{Header:"State",accessor:"state",maxWidth:200,Cell:function(e){return o.a.createElement("span",null,o.a.createElement("span",{style:{color:"safe"===e.value?"#57d500":"risky"===e.value?"#ffbf00":"#ff2e00",transition:"all .3s ease"}},"\u25cf")," ","safe"===e.value?"Safe":"risky"===e.value?"Risky":"Unsafe")}},{Header:"",accessor:"liquidate",maxWidth:200,Cell:function(e){return o.a.createElement("button",{className:"liquidateButton",disabled:"0"===e.value,onClick:function(){return function(e,t){t.address,window.alert("Liquidation coming soon\u2122")}(e.row.address,t)}},"Liquidate")}}];return o.a.createElement(m.a,{data:a,columns:n,defaultPageSize:20,showPageSizeOptions:!1,className:"-striped"})},b=a(132),g=a.n(b),w=(a(363),a(365),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={accounts:[]},e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){0==this.state.accounts.length&&this.refreshAccountList()}},{key:"render",value:function(){return 0==this.state.accounts.length?o.a.createElement("div",null,o.a.createElement("img",{src:"./loading.gif",className:"Loading"})):o.a.createElement("div",{className:"AccountsTable"},this.renderAccountList())}},{key:"renderAccountList",value:function(){return o.a.createElement("div",null,o.a.createElement("b",null,"Compound Accounts"),o.a.createElement(v,{accounts:this.state.accounts}))}},{key:"refreshAccountList",value:function(){var e=this;console.log("refreshing accounts");g()({method:"post",url:"https://api.compound.finance/api/risk/v1/get_account_values",headers:{Accept:"application/json","Content-Type":"application/json"},data:{page_size:100,page_number:1,min_borrow_value_in_eth:{value:"50000000000000000"},max_collateral_ratio:{value:"5"}}}).then(function(t){console.log(t);var a=[];t.data.account_values.forEach(function(e){var t={address:e.address,totalEthBorrow:e.total_borrow_value_in_eth.value,totalEthSupply:e.total_supply_value_in_eth.value,blockUpdated:e.block_updated};a.push(t)}),e.setState({accounts:a})}).catch(function(e){console.error(e)})}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=document.getElementById("root");c.a.render(o.a.createElement(function(){return o.a.createElement(i.a,null,o.a.createElement(w,null))},null),E),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[137,8,7]]]);
//# sourceMappingURL=main.a28c6782.chunk.js.map